<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PathakGPT - AI Assistant</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- NAVBAR -->
  <nav>
    <div class="logo">P</div>
    <div class="brand">PathakGPT</div>
    <button id="theme-toggle" aria-label="Toggle theme"></button>
  </nav>

  <!-- HERO -->
  <section class="hero">
    <h1><span>PathakGPT</span></h1>
    <p>ðŸš€ Experience the future of AI conversation</p>
    <div class="buttons">
      <a href="#chat" class="btn primary">Start Chatting</a>
      <a href="https://pathaksameer.com.np" class="btn outline">Visit Website</a>
    </div>
  </section>

  <!-- FEATURES -->
  <section class="features">
    <div class="feature-card">
      <div class="icon">ðŸ§ </div>
      <h3>Advanced AI</h3>
      <p>Powered by cutting-edge language models</p>
    </div>
    <div class="feature-card">
      <div class="icon">âš¡</div>
      <h3>Lightning Fast</h3>
      <p>Instant responses to your queries</p>
    </div>
    <div class="feature-card">
      <div class="icon">âœ¨</div>
      <h3>Personalized</h3>
      <p>Tailored responses just for you</p>
    </div>
  </section>

  <!-- CHAT -->
  <section class="chat-section" id="chat">
    <h2>ðŸ’¬ Ask Anything</h2>
    <div id="chat-box" class="chat-box"></div>
    <input id="user-input" placeholder="Ask me anything..." />
    <button onclick="sendMessage()">Send</button>
  </section>

  <!-- FOOTER -->
  <footer>
    <p>Â© 2025 PathakGPT by Sameer Pathak. All rights reserved.</p>
  </footer>

  <script>
    const toggleBtn = document.getElementById("theme-toggle");
    toggleBtn.addEventListener("click", () => {
      document.body.classList.toggle("light");
    });

    async function sendMessage() {
      const input = document.getElementById("user-input");
      const chatBox = document.getElementById("chat-box");
      const userText = input.value.trim();

      if (!userText) return;

      chatBox.innerHTML += `<div class="message user"><b>You:</b> ${userText}</div>`;
      input.value = "";

      try {
        const res = await fetch("https://pathakgpt-gemini.onrender.com/ask", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ message: userText })
        });
        const data = await res.json();
        chatBox.innerHTML += `<div class="message bot"><b>PathakGPT:</b> ${data.text}</div>`;
      } catch (err) {
        chatBox.innerHTML += `<div class="message bot"><b>PathakGPT:</b> Error connecting to server</div>`;
      }

      chatBox.scrollTop = chatBox.scrollHeight;
    }
  </script>
</body>
</html>
